function createResetLink(e){if(e.preventDefault(),"true"===localStorage.isSubmitting)return;const t=e.target.children.finalSubmit;toggleButtonSpinner(t,!0);const n=`${API}/auth/reset`,[o]=form,r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState){const e=JSON.parse(this.responseText),n=document.querySelector("p");n.textContent=e,n.style.color=this.status<400?"#5cb85c":"#d9534f",toggleButtonSpinner(t,!1)}},r.open("POST",n,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify({email:o.value.toLowerCase()}))}document.addEventListener("DOMContentLoaded",e=>{localStorage.removeItem("isSubmitting");document.querySelector("form").addEventListener("submit",createResetLink)});