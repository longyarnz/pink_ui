!function(){function Inline(t){this.iframe=null,this.background=null,this.iframeLoaded=!1,this.iframeOpen=!1,this.defaults=t,this.isEmbed=t&&null!=t.container,this.checkoutLoaded=!1,this.checkoutRemoved=!1,this.loadedButtonCSS=!1,this.setup(),this.listenForEvents(),noBrowserIframeSupport()&&(this.fallback=!0)}function parseObject(t){try{return JSON.parse(t)}catch(e){return t}}function parseFunction(string){try{return eval(string)}catch(t){return string}}function randomId(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function isValid(t){if(validateInputTypes(t),null==t.key)throw new Error("Please provide your public key via the key attribute");if(null==t.amount&&null==t.plan)throw new Error("Please provide transaction amount via the amount or plan attribute");if(null==t.email&&null==t.customer_code)throw new Error("Please provide customer email via the email or customerCode attribute");if(t.transaction_charge&&t.transaction_charge>=t.amount)throw new Error("Transaction charge must be less than the transaction amount");if(t.bearer&&"account"!=t.bearer&&"subaccount"!=t.bearer)throw new Error("Bearer should be either account or subaccount");if(t.channels&&!t.channels.length)throw new Error("Channels should be an array of [card, bank] values");if(t.customButton&&null!=t.customButton&&null==document.getElementById(t.customButton))throw new Error("Please ensure a button with id "+t.customButton+" is defined");if(t.container&&null!=t.container&&null==document.getElementById(t.container))throw new Error("Please ensure an element with id "+t.container+" is defined");return!0}function validateInputTypes(t){function e(t){throw new Error("Attribute "+t+" must be a valid "+n[t])}var n={email:"email",amount:"integer",transaction_charge:"integer",invoice_limit:"integer",onClose:"function",callback:"function",metadata:"object",channels:"array"};for(var r in t)!function(t,r){if(n[t]&&r)switch(n[t]){case"email":isValidEmail(r)||e(t);break;case"integer":isNormalInteger(r)||e(t);break;case"function":isFunction(r)||e(t);break;case"object":isObject(r)||e(t);break;case"array":isArray(r)||e(t)}}(r,t[r])}function checkForParentForm(t){if("FORM"==t.parentElement.tagName)return!0;throw new Error("Please put your Paystack Inline javascript file inside of a form element")}function getParentForm(t){return form=t.parentElement}function hasDataAttribute(t){var e=!1,n=t.attributes;for(key in n=Array.prototype.slice.call(n)){var r=n[key].nodeName;r&&-1<r.indexOf("data")&&(e=!0)}return e}function noBrowserIframeSupport(){var t="onload"in document.createElement("iframe");return t||console.warn("This browser does not support iframes. Please redirect to standard"),!t}function parseResponse(t,e){var n,r,i,a,o;return"string"==typeof t&&(n=t.split(" ")[0]),n&&(i=(r=t.split(" "))[1],a=r.slice(2).join(" "),o=e.id==i),{action:n,isThisIframe:o,data:a}}function omitKeys(t,e){for(var n=JSON.parse(JSON.stringify(t)),r=0;r<e.length;r++)delete n[e[r]];for(var i in n)n.hasOwnProperty(i)&&!n[i]&&delete n[i];return n}function serialize(t,e){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var i=e?e+"["+n+"]":n,a=t[n];r.push(null!==a&&"object"==typeof a?serialize(a,i):encodeURIComponent(i)+"="+encodeURIComponent(a))}return r.join("&")}function isObject(t){return t===Object(t)&&"[object Array]"!==Object.prototype.toString.call(t)}function isArray(t){return t.constructor===Array}function isNormalInteger(t){return parseInt(t)==t&&0<=t}function isFunction(t){return!!t&&(t&&"[object Function]"==={}.toString.call(t))}function isValidEmail(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}function getHref(){var t=window.window.location.href;return t&&500<t.length&&(t=t.split("?")[0]),t}function findHighestZIndex(t){for(var e=document.getElementsByTagName(t),n=0,r=0;r<e.length;r++){var i=document.defaultView.getComputedStyle(e[r],null).getPropertyValue("z-index");n<i&&"auto"!=i&&(n=i)}return parseInt(n)}function cssLoad(t,e){function n(){d=!0;for(var t=0,e=s.length;t<e;t++)s[t]()}function r(){l=!0;for(var t=0,e=c.length;t<e;t++)c[t]()}var i,a,o,s=[],c=[],d=!1,l=!1;this.count=this.count?++this.count:1,this.count,o=t.split("/"),a="load-css-"+o[o.length-1],i={done:function(t){return s.push(t),d&&t(),i},fail:function(t){return c.push(t),l&&t(),i}};var u=document.createElement("link");return u.setAttribute("id",a),u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),void 0!==u.addEventListener?(u.addEventListener("load",n,!1),u.addEventListener("error",r,!1)):void 0!==u.attachEvent&&u.attachEvent("onload",function(){var t,e=document.styleSheets.length;try{for(;e--;)if((t=document.styleSheets[e]).id===a)return t.cssText,void n()}catch(t){}d||r()}),document.getElementsByTagName("head")[0].appendChild(u),u.setAttribute("href",t),i}var eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventer=window[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message",config={siteUrl:"https://paystack.com/",paystackApiUrl:"https://api.paystack.co/",newCheckoutUrl:"https://checkout.paystack.com/"};Inline.prototype.setTransaction=function(t){this.defaults&&this.resetNewCheckout(),this.defaults=t,this.isEmbed=null!=t.container,this.isEmbed?(this.removeNewCheckout(),this.setupEmbed()):this.updateIframe()},Inline.prototype.setForm=function(t){this.form=t,this.createButton()},Inline.prototype.loadButtonCSS=function(){var t=this;cssLoad(config.siteUrl+"public/css/button.min.css").done(function(){t.loadedButtonCSS=!0})},Inline.prototype.createButton=function(){var t,e=this;e.defaults.customButton?(t=document.getElementById(e.defaults.customButton)).setAttribute("data-paystack",e.defaults.id):((t=document.createElement("button")).innerHTML="<span class='paystack-top-blue'>Pay Securely with Paystack</span><span class='paystack-body-image'> </span>",t.setAttribute("class","paystack-trigger-btn"),t.setAttribute("data-paystack",e.defaults.id),sourceScript.parentNode.insertBefore(t,sourceScript.nextSibling)),t.addEventListener("click",function(t){t.preventDefault(),e.openIframe()},!1)},Inline.prototype.setup=function(){this.isEmbed?this.setupEmbed():this.setupNewPopup(),this.loadedButtonCSS||this.loadButtonCSS()},Inline.prototype.setupEmbed=function(){var t=document.getElementById(this.defaults.container);t.innerHTML="",t.removeAttribute("style"),t.className="paystack-embed-container",t.style.position="relative",t.style.width="100%",this.listenForResizeEvent(),this.appendIframe({src:this.getOldCheckoutURL(),cssText:"background: transparent;\nbackground: rgba(0,0,0,0);\nborder: 0px none transparent;\noverflow-x: hidden;\noverflow-y: hidden;\nmargin: 0;\npadding: 0;\n-webkit-tap-highlight-color: transparent;\n-webkit-touch-callout: none;\nleft: 0;\ntop: 0;\nwidth: 100%;\nheight: 100%;",className:"paystack_embed",parent:t}),this.isSetup=!0,this.openOldCheckout()},Inline.prototype.setupOldPopup=function(){var t=10*findHighestZIndex("div"),e="z-index: "+Math.max(t,999999);e+=";\ndisplay: none;\nbackground: transparent;\nbackground: rgba(0,0,0,0.005);\nborder: 0px none transparent;\noverflow-x: hidden;\noverflow-y: hidden;\nvisibility: hidden;\nmargin: 0;\npadding: 0;\n-webkit-tap-highlight-color: transparent;\n-webkit-touch-callout: none; position: fixed;\nleft: 0;\ntop: 0;\nwidth: 100%;\nheight: 100%;",this.appendIframe({src:this.getOldCheckoutURL(),cssText:e,className:"paystack_pop",parent:document.body}),this.isSetup=!0},Inline.prototype.getTransactionParameters=function(){if(!this.defaults)return null;this.defaults.metadata.referrer=getHref();var t=omitKeys(this.defaults,["customButton","onClose","callback","tlsFallback"]);return t.mode="popup",t.hasTLSFallback=null!==this.defaults.tlsFallback,t.metadata&&"string"!=typeof t.metadata&&(t.metadata=JSON.stringify(t.metadata)),void 0!==t.card&&-1<["false",!1].indexOf(t.card)&&(t.channels=["bank"],delete t.card),void 0!==t.bank&&-1<["false",!1].indexOf(t.bank)&&(t.channels=["card"],delete t.bank),t},Inline.prototype.getOldCheckoutURL=function(){var t=config.siteUrl+"assets/payment/production/inline.html",e=this.getTransactionParameters();return e&&(t=t+"?"+serialize(e)),t},Inline.prototype.appendIframe=function(t){var e=this;iframe=document.createElement("iframe"),iframe.setAttribute("frameBorder","0"),iframe.setAttribute("allowtransparency","true"),iframe.style.cssText=t.cssText,iframe.id=iframe.name=e.defaults.id,iframe.src=t.src,iframe.className=t.className,t.parent.appendChild(iframe),e.iframe=iframe,iframe.onload=function(){e.iframeLoaded=!0}},Inline.prototype.updateIframe=function(){var t=this.getTransactionParameters(),e=t?"newTransaction":"popup";this.iframe.contentWindow.postMessage({type:"inline:url",path:e,params:t},"*")},Inline.prototype.listenForEvents=function(){var t=this;eventer(messageEvent,function(e){t.checkoutRemoved||(t.isEmbed?t.handleOldCheckoutEvents(e):t.handleNewCheckoutEvents(e))},!1)},Inline.prototype.handleOldCheckoutEvents=function(t){var e=this,n=t.data||t.message;if(n&&("string"==typeof n||n instanceof String)){var r=parseResponse(n,e.defaults),i=r.isThisIframe&&"PaystackClose"===r.action,a="close"===r.action;if(i||a){var o=r.data;e.isEmbed||e.closeOldCheckout(),o?e.handleSuccess(JSON.parse(o)):e.defaults.onClose&&e.callCloseCallback()}"PaystackTLSClose"==r.action&&(e.defaults.tlsFallback.call(this),e.isEmbed||e.closeOldCheckout())}},Inline.prototype.listenForResizeEvent=function(){var t=this;eventer(messageEvent,function(e){var n=e.data||e.message;if(n&&("string"==typeof n||n instanceof String)){var r=parseResponse(n,t.defaults);if(!r.isThisIframe||"PaystackResize"!=r.action)return;document.getElementById(t.defaults.container).style.height=Math.max(Number(r.data),250)+"px"}},!1)},Inline.prototype.openIframe=function(){this.openNewCheckout()},Inline.prototype.openOldCheckout=function(){var t=this;if(!this.iframeOpen){var e=function(){var e=document.getElementById(t.defaults.id);e.contentWindow.postMessage("PaystackOpen "+t.defaults.id,"*"),t.isEmbed||(e.style.display="block",e.style.visibility="visible",document.body.style.overflow="hidden"),t.iframeOpen=!0};t.iframeLoaded?e():iframe.onload=function(){e(),t.iframeLoaded=!0}}},Inline.prototype.closeOldCheckout=function(){if(this.iframeOpen&&!this.isEmbed){var t=document.getElementById(this.defaults.id);t.style.display="none",t.style.visibility="hidden",this.iframeOpen=!1,document.body.style.overflow=""}},Inline.prototype.setupNewPopup=function(){var t=document.createElement("iframe");t.setAttribute("frameBorder","0"),t.setAttribute("allowtransparency","true"),t.id=randomId(),t.name="paystack-checkout-background-"+t.id,t.style.cssText="z-index: 999999999999999;background: transparent;background: rgba(0, 0, 0, 0.75);border: 0px none transparent;overflow-x: hidden;overflow-y: hidden;margin: 0;padding: 0;-webkit-tap-highlight-color: transparent;-webkit-touch-callout: none;position: fixed;left: 0;top: 0;width: 100%;height: 100%;transition: opacity 0.3s;-webkit-transition: opacity 0.3s;visibility: hidden;",t.style.display="none",this.background=t,document.body.appendChild(t);var e=this.background.contentWindow.document;e.open(),e.write('<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge"> <title>Paystack Checkout Loader</title> <style> .app-loader { margin: 200px 0; text-align: center; color: white; } @keyframes app-loader__spinner { 0% { opacity: 1; } 100% { opacity: 0; } } @-webkit-keyframes app-loader__spinner { 0% { opacity: 1; } 100% { opacity: 0; } } .app-loader__spinner { position: relative; display: inline-block; } .app-loader__spinner div { left: 95px; top: 35px; position: absolute; -webkit-animation: app-loader__spinner linear 1s infinite; animation: app-loader__spinner linear 1s infinite; background: white; width: 10px; height: 30px; border-radius: 40%; -webkit-transform-origin: 5px 65px; transform-origin: 5px 65px; } .app-loader__spinner div:nth-child(1) { -webkit-transform: rotate(0deg); transform: rotate(0deg); -webkit-animation-delay: -0.916666666666667s; animation-delay: -0.916666666666667s; } .app-loader__spinner div:nth-child(2) { -webkit-transform: rotate(30deg); transform: rotate(30deg); -webkit-animation-delay: -0.833333333333333s; animation-delay: -0.833333333333333s; } .app-loader__spinner div:nth-child(3) { -webkit-transform: rotate(60deg); transform: rotate(60deg); -webkit-animation-delay: -0.75s; animation-delay: -0.75s; } .app-loader__spinner div:nth-child(4) { -webkit-transform: rotate(90deg); transform: rotate(90deg); -webkit-animation-delay: -0.666666666666667s; animation-delay: -0.666666666666667s; } .app-loader__spinner div:nth-child(5) { -webkit-transform: rotate(120deg); transform: rotate(120deg); -webkit-animation-delay: -0.583333333333333s; animation-delay: -0.583333333333333s; } .app-loader__spinner div:nth-child(6) { -webkit-transform: rotate(150deg); transform: rotate(150deg); -webkit-animation-delay: -0.5s; animation-delay: -0.5s; } .app-loader__spinner div:nth-child(7) { -webkit-transform: rotate(180deg); transform: rotate(180deg); -webkit-animation-delay: -0.416666666666667s; animation-delay: -0.416666666666667s; } .app-loader__spinner div:nth-child(8) { -webkit-transform: rotate(210deg); transform: rotate(210deg); -webkit-animation-delay: -0.333333333333333s; animation-delay: -0.333333333333333s; } .app-loader__spinner div:nth-child(9) { -webkit-transform: rotate(240deg); transform: rotate(240deg); -webkit-animation-delay: -0.25s; animation-delay: -0.25s; } .app-loader__spinner div:nth-child(10) { -webkit-transform: rotate(270deg); transform: rotate(270deg); -webkit-animation-delay: -0.166666666666667s; animation-delay: -0.166666666666667s; } .app-loader__spinner div:nth-child(11) { -webkit-transform: rotate(300deg); transform: rotate(300deg); -webkit-animation-delay: -0.083333333333333s; animation-delay: -0.083333333333333s; } .app-loader__spinner div:nth-child(12) { -webkit-transform: rotate(330deg); transform: rotate(330deg); -webkit-animation-delay: 0s; animation-delay: 0s; } .app-loader__spinner { width: 40px; height: 40px; -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px); transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px); } </style> </head> <body> <div id="app-loader" class="app-loader"> <div id="spinner" class="app-loader__spinner"> <div></div><div></div><div></div><div></div><div></div><div></div><div> </div><div></div><div></div><div></div><div></div><div></div> </div> </div> </body> </html>'),e.close();var n=document.createElement("iframe");n.setAttribute("frameBorder","0"),n.setAttribute("allowtransparency","true"),n.id=randomId(),n.name="paystack-checkout-"+n.id,n.style.cssText="z-index: 999999999999999;background: transparent;border: 0px none transparent;overflow-x: hidden;overflow-y: hidden;margin: 0;padding: 0;-webkit-tap-highlight-color: transparent;-webkit-touch-callout: none;position: fixed;left: 0;top: 0;width: 100%;height: 100%;visibility:hidden;",n.style.display="none",n.src=config.newCheckoutUrl+"popup",this.iframe=n,document.body.appendChild(n)},Inline.prototype.openNewCheckout=function(){!this.iframe||this.isIframeOpen||this.isEmbed||(this.background.style.display="",this.background.style.visibility="visible",this.iframe.style.display="",this.iframe.contentWindow.postMessage("render","*"),this.isIframeOpen=!0)},Inline.prototype.removeLoader=function(){this.iframe.style.visibility="visible",this.background.contentWindow.document.getElementById("app-loader").style.display="none"},Inline.prototype.handleNewCheckoutEvents=function(t){if(t.origin+"/"===config.newCheckoutUrl&&this.iframe.contentWindow==t.source){var e=t.data||t.message;if("loaded:checkout"===e&&(this.checkoutLoaded=!0,this.defaults&&this.updateIframe()),"loaded:transaction"===e&&this.removeLoader(),"close"===e){if(this.closeNewCheckout(),!this.defaults.onClose)return;this.defaults.onClose.call(this)}try{var n=JSON.parse(e);n&&"success"===n.status&&(this.closeNewCheckout(!0),this.handleSuccess(n))}catch(t){}}},Inline.prototype.closeNewCheckout=function(t){var e=this;e.background.style.opacity=0,e.iframe.style.display="none",e.iframe.contentWindow.postMessage("close","*"),e.isIframeOpen=!1,setTimeout(function(){e.resetBackgroundAndLoader()},300)},Inline.prototype.resetNewCheckout=function(){this.resetMainIframe(),this.resetBackgroundAndLoader()},Inline.prototype.resetMainIframe=function(){this.iframe.style.visibility="hidden",this.defaults=null,this.updateIframe()},Inline.prototype.resetBackgroundAndLoader=function(){this.background.style.display="none",this.background.style.opacity=1,this.background.contentWindow.document.getElementById("app-loader").style.display="block"},Inline.prototype.removeNewCheckout=function(){this.iframe.parentElement.removeChild(this.iframe),this.background.parentElement.removeChild(this.background),this.iframe=null,this.background=null,this.checkoutRemoved=!0},Inline.prototype.handleSuccess=function(t){var e;if(this.defaults.callback||this.form)return this.form?((e=document.createElement("input")).type="hidden",e.value=t.reference,e.name="reference",this.form.appendChild(e),(e=document.createElement("input")).type="hidden",e.value=t.reference,e.name="paystack-trxref",this.form.appendChild(e),void this.form.submit()):void(this.defaults.callback&&this.defaults.callback.call(this,t))},Inline.prototype.callCloseCallback=function(){this.defaults.onClose&&this.defaults.onClose.call(this)};var PaystackPop={isInitialized:!1,initialize:function(t){ca=new Inline(t),this.isInitialized=!0},setup:function(t,e){var n="paystack"+randomId(),r={id:n,key:t.key||"",ref:t.ref||"",label:t.label||"",email:t.email||"",amount:t.amount||"",currency:t.currency||"NGN",container:t.container,customButton:t.custom_button||t.customButton||"",firstname:t.firstname||"",lastname:t.lastname||"",phone:t.phone||"",remark:t.remark||"",payment_page:t.payment_page||t.paymentPage||"",payment_request:t.payment_request||t.paymentRequest||"",plan:t.plan||"",quantity:t.quantity||"",coupon:t.coupon||"",customer_code:t.customer_code||t.customerCode||"",invoice_limit:t.invoice_limit||t.invoiceLimit||"",start_date:t.start_date||t.startDate||"",interval:t.interval||t.interval||"",subaccount:t.subaccount||"",transaction_charge:t.transaction_charge||t.transactionCharge||"",bearer:t.bearer||"",metadata:t.metadata||{},onClose:t.on_close||t.onClose||"",callback:t.callback||"",tlsFallback:t.tlsFallback||"",channels:t.channels||"",hash:t.hash||"",card:t.card||"",bank:t.bank||""};if(isValid(r)){if(this.isInitialized?ca.setTransaction(r):this.initialize(r),!e)return ca;checkForParentForm(e),ca.setForm(getParentForm(e)),window[n]=ca}}},ca;window.PaystackPop=PaystackPop,window.onload=function(){PaystackPop.isInitialized||PaystackPop.initialize()};var sourceScript=document.currentScript||(ia=document.getElementsByTagName("script"))[ia.length-1],ia;hasDataAttribute(sourceScript)&&PaystackPop.setup({key:sourceScript.getAttribute("data-key"),ref:sourceScript.getAttribute("data-ref"),label:sourceScript.getAttribute("data-label"),email:sourceScript.getAttribute("data-email"),amount:sourceScript.getAttribute("data-amount"),currency:sourceScript.getAttribute("data-currency"),container:sourceScript.getAttribute("data-container"),customButton:sourceScript.getAttribute("data-custom-button"),firstname:sourceScript.getAttribute("data-firstname"),lastname:sourceScript.getAttribute("data-lastname"),phone:sourceScript.getAttribute("data-phone"),remark:sourceScript.getAttribute("data-remark"),payment_page:sourceScript.getAttribute("data-payment-page"),payment_request:sourceScript.getAttribute("data-payment-request"),plan:sourceScript.getAttribute("data-plan"),quantity:sourceScript.getAttribute("data-quantity"),coupon:sourceScript.getAttribute("data-coupon"),customer_code:sourceScript.getAttribute("data-customer-code"),invoice_limit:sourceScript.getAttribute("data-invoice-limit"),start_date:sourceScript.getAttribute("data-start-date"),interval:sourceScript.getAttribute("data-interval"),subaccount:sourceScript.getAttribute("data-subaccount"),transaction_charge:sourceScript.getAttribute("data-transaction-charge"),bearer:sourceScript.getAttribute("data-bearer"),metadata:parseObject(sourceScript.getAttribute("data-metadata")),onClose:parseFunction(sourceScript.getAttribute("data-on-close")),callback:parseFunction(sourceScript.getAttribute("data-callback")),tlsFallback:parseFunction(sourceScript.getAttribute("data-tls-callback")),channels:sourceScript.getAttribute("data-channels"),hash:sourceScript.getAttribute("data-hash"),card:sourceScript.getAttribute("data-card"),bank:sourceScript.getAttribute("data-bank")},sourceScript)}(),function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return f&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function o(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=o(e);return e.readAsArrayBuffer(t),n}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(m&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(h&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(b&&m&&g(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t,e,n,r=a(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=o(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y&&(this.formData=function(){return this.text().then(u)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t,e){var n,r,a=(e=e||{}).body;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,a||null==t._bodyInit||(a=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),-1<k.indexOf(r)?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function u(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function p(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var h="URLSearchParams"in t,f="Symbol"in t&&"iterator"in Symbol,m="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),y="FormData"in t,b="ArrayBuffer"in t;if(b)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&-1<v.indexOf(Object.prototype.toString.call(t))};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},f&&(i.prototype[Symbol.iterator]=i.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},d.call(l.prototype),d.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];p.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=l,t.Response=p,t.fetch=function(t,e){return new Promise(function(n,r){var a=new l(t,e),o=new XMLHttpRequest;o.onload=function(){var t,e,r={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new i,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var a="response"in o?o.response:o.responseText;n(new p(a,r))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&m&&(o.responseType="blob"),a.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===a._bodyInit?null:a._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],o(t,this)}function n(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var a;try{a=e(t._value)}catch(e){return void i(n.promise,e)}r(n.promise,a)}else(1===t._state?r:i)(n.promise,t._value)})):t._deferreds.push(n)}function r(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if(n instanceof e)return t._state=3,t._value=n,void a(t);if("function"==typeof r)return void o((s=r,c=n,function(){s.apply(c,arguments)}),t)}t._state=1,t._value=n,a(t)}catch(n){i(t,n)}var s,c}function i(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var r=0,i=t._deferreds.length;r<i;r++)n(t,t._deferreds[r]);t._deferreds=null}function o(t,e){var n=!1;try{t(function(t){n||(n=!0,r(e,t))},function(t){n||(n=!0,i(e,t))})}catch(t){if(n)return;n=!0,i(e,t)}}var s=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},c=setTimeout;e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,r){var i=new this.constructor(t);return n(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(e,r,i)),i},e.prototype.finally=s,e.all=function(t){return new e(function(e,n){function r(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(e){r(t,e)},n)}i[t]=o,0==--a&&e(i)}catch(o){n(o)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var a=i.length,o=0;i.length>o;o++)r(o,i[o])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)},e._unhandledRejectionFn=function(t){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();d.Promise?d.Promise.prototype.finally||(d.Promise.prototype.finally=s):d.Promise=e});